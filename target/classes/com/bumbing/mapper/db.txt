CREATE TABLE `minigame`.`tbl_member` (
  `email` VARCHAR(30) NOT NULL,
  `pwd` VARCHAR(50) NOT NULL,
  `username` VARCHAR(30) NOT NULL,
  `cdate` DATE NOT NULL,
  `ddate` DATE NULL,
  `state` INT NOT NULL DEFAULT 0,
  `profile` INT NULL,
  `aboutme` VARCHAR(600) NULL,
  PRIMARY KEY (`email`));


����Ŭ
drop table tbl_member;

Create Table tbl_member(
	email varchar2(30) not null,
	pwd VARCHAR(50) NOT NULL,
	username VARCHAR(30) NOT NULL,
	cdate DATE NOT NULL,
	ddate DATE NULL,
	state number(1) DEFAULT 0 NOT NULL ,
	profile varchar2(50) null,
	aboutme VARCHAR2(600) null 
);
ALTER TABLE tbl_member add
constraint pk_member PRIMARY KEY  (email);


Create Table tbl_auth(
    email varchar2(30) not null,
    auth varchar2(20) not null
);

ALTER TABLE tbl_auth add constraint fk_auth foreign KEY (email) references tbl_member(email) on delete cascade;


create table tbl_certi (email varchar2(30) not null, key varchar2(30) not null;



CREATE TABLE `minigame`.`tbl_certi` (
  `email` VARCHAR(30) NOT NULL,
  `key` VARCHAR(30) NOT NULL,
  UNIQUE INDEX `email_UNIQUE` (`email` ASC) VISIBLE,
  PRIMARY KEY (`email`));
  
  
  CREATE TABLE `minigame`.`tbl_auth` (
  `email` VARCHAR(30) NOT NULL,
  `auth` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`email`, `auth`));
  
  
  
  
  insert into tbl_member(email,pwd,username) values('kjhhjk1234@naver.com','$2a$10$rBc8yLg4TLOFaJwg.OWkK.03pkRoesxCuq3cIumWdWTMAtzhDHeI6','han'); 
select * from tbl_member;

delete from tbl_member;

insert into tbl_certi values('kjhhjk1234@naver.com','nqgeaeiqoyxcdyyenqzlalqsq44x6o');
select * from tbl_certi;

delete from tbl_certi;

select email from tbl_certi certi where certi.key= 'oynykuyoiufsuiugicq3wmdawvhwu6';

update tbl_member set state=1 where email='kjhhjk1234@naver.com';

select * from tbl_auth;


SELECT mem.email, pwd, username, state, cdate,ddate,profile,aboutme, auth
FROM  tbl_member mem LEFT OUTER JOIN tbl_auth auth on mem.email= auth.email
WHERE mem.email= 'kjhhjk1234@naver.com';

